# í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

## 1. í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” `react-shop-vite-tdd-client/` ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜í•˜ë©°, í”„ë¡œì íŠ¸ì˜ ì‹¤ì œ êµ¬ì¡°ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤.

```
react-shop-vite-tdd-client/
â”œâ”€â”€ cypress/             # Cypress E2E í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ e2e/             # E2E í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ order.cy.js  # ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ fixtures/        # í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ example.json # ì˜ˆì œ ë°ì´í„°
â”‚   â”œâ”€â”€ support/         # í…ŒìŠ¤íŠ¸ ì§€ì› íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ commands.js  # ì»¤ìŠ¤í…€ ëª…ë ¹ì–´
â”‚   â”‚   â”œâ”€â”€ e2e.js       # E2E ì„¤ì • íŒŒì¼
â”œâ”€â”€ src/                 # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ pages/           # í˜ì´ì§€ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ CompletePage/
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/   # CompletePage ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CompletePage.test.jsx
â”‚   â”‚   â”œâ”€â”€ OrderPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/   # OrderPage ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Type.test.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ calculate.test.jsx
â”‚   â”‚   â”œâ”€â”€ SummaryPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/   # SummaryPage ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SummaryPage.test.jsx
â”‚   â”‚   â”œâ”€â”€ WishlistPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/   # WishlistPage ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistPage.test.jsx
â”‚   â”œâ”€â”€ services/        # API ìš”ì²­ ë° ë°ì´í„° ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ tests/       # ì„œë¹„ìŠ¤ ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentService.test.js
â”‚   â”œâ”€â”€ utils/           # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ tests/       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ processPayment.test.js
â”‚   â”œâ”€â”€ App.test.jsx     # App ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
```

- **Cypress E2E í…ŒìŠ¤íŠ¸**
  - `cypress/e2e/`: E2E í…ŒìŠ¤íŠ¸ íŒŒì¼ (`order.cy.js`)
  - `cypress/fixtures/`: í…ŒìŠ¤íŠ¸ ë°ì´í„° (`example.json`)
  - `cypress/support/`: í…ŒìŠ¤íŠ¸ ì§€ì› íŒŒì¼ (`commands.js`, `e2e.js`)

- **vitest ì½”ë“œ í…ŒìŠ¤íŠ¸**
  - `src/pages/`: í˜ì´ì§€ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸ ê´€ë ¨ í…ŒìŠ¤íŠ¸
    - ê° í˜ì´ì§€ í´ë” ë‚´ `tests/` ë””ë ‰í† ë¦¬ì— í…ŒìŠ¤íŠ¸ íŒŒì¼ ì¡´ì¬
  - `src/services/tests/`: ì„œë¹„ìŠ¤ ê´€ë ¨ í…ŒìŠ¤íŠ¸ (`PaymentService.test.js`)
  - `src/utils/tests/`: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ê´€ë ¨ í…ŒìŠ¤íŠ¸ (`processPayment.test.js`)
  - `src/`: ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ (`App.test.jsx`)

## 2. í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‘ì„± ê·œì¹™

### íŒŒì¼ ëª…ëª… ê·œì¹™
- í…ŒìŠ¤íŠ¸ íŒŒì¼ì€ `.test.js` ë˜ëŠ” `.test.jsx` í™•ì¥ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- íŒŒì¼ëª…ì€ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ëª…í™•íˆ í‘œí˜„í•©ë‹ˆë‹¤.
  - ì˜ˆì‹œ: `Type.test.jsx`, `processPayment.test.js`

### í…ŒìŠ¤íŠ¸ ì„¤ëª… (í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëª…)
- í…ŒìŠ¤íŠ¸ ì„¤ëª…ì€ ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.
  - ì˜ˆì‹œ: `ìƒí’ˆ ê°œìˆ˜ ë³€ê²½ ì‹œ ì´ ê°€ê²©ì´ ì˜¬ë°”ë¥´ê²Œ ê³„ì‚°ëœë‹¤`

```jsx
// âŒ ë‚˜ìœ ì˜ˆ
 test("checkbox and button", () => { ... });

// âœ… ì¢‹ì€ ì˜ˆ
 test("ì£¼ë¬¸ í™•ì¸ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì§€ ì•Šìœ¼ë©´ ê²°ì œ ë²„íŠ¼ì´ ë¹„í™œì„±í™” ìƒíƒœì—¬ì•¼ í•œë‹¤", () => { ... });
```

## 3. í…ŒìŠ¤íŠ¸ ì½”ë“œ íŒ¨í„´

### ğŸ“Œ ê¸°ë³¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```jsx
describe("í…ŒìŠ¤íŠ¸ ê·¸ë£¹ëª…", () => {
  test("í…ŒìŠ¤íŠ¸ ì„¤ëª…", () => {
    // í…ŒìŠ¤íŠ¸ ì½”ë“œ
    expect(true).toBe(true);
  });
});
```

## 4. ì„ íƒì(Locator) ì „ëµ

í…ŒìŠ¤íŠ¸ì—ì„œ ìš”ì†Œë¥¼ ì°¾ì„ ë•Œ ì ‘ê·¼ì„± ìš°ì„  ìˆœìœ„ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ ê¸°ì¤€ì„ ë”°ë¥´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### ìš°ì„ ìˆœìœ„
```jsx
// 1. Roleê³¼ ì ‘ê·¼ì„± ì†ì„± (ìµœìš°ì„ )
await screen.findByRole('button', { name: 'ë¡œê·¸ì¸' });
await screen.findByLabelText('ì´ë©”ì¼');
await screen.findByRole('textbox', { name: 'ë¹„ë°€ë²ˆí˜¸' });
await screen.findByRole('heading', { name: 'íšŒì›ê°€ì…' });

// 2. í…ìŠ¤íŠ¸ ë° ê¸°íƒ€
await screen.findByText('ê³„ì • ë§Œë“¤ê¸°');
await screen.findByPlaceholderText('ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”');

// 3. í…ŒìŠ¤íŠ¸ ID (Roleê³¼ ì ‘ê·¼ì„± ì†ì„±ìœ¼ë¡œ ì„ íƒì´ ì–´ë ¤ìš´ ê²½ìš°ì— ì‚¬ìš©)
// âš ï¸ ì‚¬ìš© ì „ ë°˜ë“œì‹œ í•´ë‹¹ ìš”ì†Œì— data-testid ì†ì„±ì´ ì •ì˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
// ê°€ì¥ ë§ˆì§€ë§‰ ìš°ì„ ìˆœìœ„.
// ì˜ˆ) getByTestId('login-button')
await screen.findByTestId('submit-button');

// âŒ í”¼í•´ì•¼ í•  ë°©ì‹ (ì•ˆí‹° íŒ¨í„´)
screen.getByClassName('.login-btn');
screen.getBySelector('div > button');
```

## 4. í…ŒìŠ¤íŠ¸ ì‘ì„± ì˜ˆì œ

### ğŸ“Œ ìƒí’ˆ ì£¼ë¬¸ ë° ê°€ê²© ê³„ì‚° í…ŒìŠ¤íŠ¸ (`App.test.jsx`, `calculate.test.jsx` ì°¸ê³ )
### ğŸ“Œ ì˜µì…˜ ì„ íƒ UI ìƒíƒœ ë³€í™” í…ŒìŠ¤íŠ¸ (`Type.test.jsx` ì°¸ê³ )


## 5. ê²€ì¦(Assertions) ê°€ì´ë“œ

| ìœ í˜•        | ì˜ˆì œ                                                              |
| --------- | --------------------------------------------------------------- |
| ìš”ì†Œ ì¡´ì¬ í™•ì¸  | `expect(screen.getByRole("button")).toBeInTheDocument();`       |
| í…ìŠ¤íŠ¸ í¬í•¨ í™•ì¸ | `expect(screen.getByText("ì´ ê¸ˆì•¡")).toHaveTextContent("5,000ì›");` |
| ìš”ì†Œ í™œì„±í™” ì—¬ë¶€ | `expect(screen.getByRole("button")).toBeEnabled();`             |
| ë¹„í™œì„±í™” í™•ì¸   | `expect(screen.getByRole("button")).toBeDisabled();`            |

## 6. í…ŒìŠ¤íŠ¸ ë°ì´í„° ë° Mocking

### ğŸ“Œ API Mocking (MSW í™œìš©)
ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì—ë§Œ API ëª¨í‚¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:
- ì™¸ë¶€ API ì˜ì¡´ì„±ì´ ìˆëŠ” ê²½ìš°
- í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì‹¤ì œ APIê°€ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ê²½ìš°
- íŠ¹ì • ì—ëŸ¬ ìƒí™© í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°


```jsx
// íŠ¹ì • ì—ëŸ¬ ìƒí™© í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ëª¨í‚¹ ì˜ˆì‹œ
   describe("ì—ëŸ¬ ì²˜ë¦¬", () => {
        beforeEach(() => {
            // API ìš”ì²­ì´ ì‹¤íŒ¨í•˜ë„ë¡ MSW í•¸ë“¤ëŸ¬ ì¬ì •ì˜
            server.use(
                http.get("http://localhost:5003/order-history", () => {
                    return new Response(null, { status: 500 });
                })
            );
        });

        test("API ìš”ì²­ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤", async () => {
            renderWithContext(<CompletePage />);
            
            const errorBanner = await screen.findByTestId("error-banner");
            expect(errorBanner).toBeInTheDocument();
            expect(errorBanner).toHaveTextContent(MESSAGES.ERROR);
        });
    });
```
---

ì´ ë¬¸ì„œëŠ” `@testing-library/react`ì™€ `vitest`ë¥¼ ì‚¬ìš©í•œ React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œì…ë‹ˆë‹¤. ìœ„ì˜ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ì—¬ ì¼ê´€ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§€ê³ , ì½”ë“œ í’ˆì§ˆì´ í–¥ìƒë©ë‹ˆë‹¤.
